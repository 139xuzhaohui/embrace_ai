## ä¸Šä¸€ç¯‡æ–‡æ¡£éƒ½è¿‡æœŸäº† ğŸ˜­ 

- agent, langchainåœ¨  0.3.x ä¹‹åä¼šåˆ†ä¸º Agent å’Œ AgentExecutor

-  Agentï¼šè´Ÿè´£"æ€è€ƒ"
-  > agent = create_tool_calling_agent(llm, tools, prompt)
-  ä½œç”¨ï¼šå†³å®šè°ƒç”¨å“ªä¸ªå·¥å…·ã€ä¼ ä»€ä¹ˆå‚æ•°
----- 
- AgentExecutorï¼šè´Ÿè´£"æ‰§è¡Œ"
- > agent_executor = AgentExecutor(agent=agent, tools=tools)
- ä½œç”¨ï¼šçœŸæ­£è¿è¡Œå·¥å…·ã€å¤„ç†é”™è¯¯ã€æ§åˆ¶å¾ªç¯

- ã€code_demo for_a_simple_agent]ã€‘
>   
```python
from langchain_core.tools import tool
from langchain_community.chat_models import ChatTongyi
from langchain.agents import create_tool_calling_agent, AgentExecutor
from langchain_core.prompts import ChatPromptTemplate
from datetime import datetime
import os

from openai import OpenAI

client = OpenAI(
    api_key="sk-7b6cc2ae79104c20a0de9ae3ebebaff5",
    base_url="https://dashscope.aliyuncs.com/compatible-mode/v1",
)


# ========== å®šä¹‰å·¥å…· ==========
@tool
def get_weather(city: str) -> str:
    """Get weather for a given city """
    return f"It's always rainy in {city}!"


# ========== åˆ›å»º llm ==========
os.environ["DASHSCOPE_API_KEY"] = "sk-zijiqushenq"
llm = ChatTongyi(model="qwen-plus", temperature=0.3)

prompt = ChatPromptTemplate.from_messages([
    ("system", "ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥ä½¿ç”¨å·¥å…·å¸®åŠ©ç”¨æˆ·ã€‚"),
    ("human", "{input}"),
    ("placeholder", "{agent_scratchpad}")
])

# ========== åˆ›å»º Agent ==========
tools = [get_weather]
agent = create_tool_calling_agent(llm, tools, prompt)
agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)

# ========== æµ‹è¯• ==========
if __name__ == "__main__":
    print("æµ‹è¯•1ï¼šå¤©æ°”æŸ¥è¯¢")
    result = agent_executor.invoke({
        "input": "æŸ¥ä¸€ä¸‹æ­å·å¤©æ°”"
    })
    print(f"\nç­”æ¡ˆï¼š{result['output']}\n")


```
